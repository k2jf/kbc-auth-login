<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.k2data.kbc.usrmgr.dao.UsrgrpRoleMapper">
    <insert id="insert">
      INSERT INTO usrgrp_role (
        role_id,
        usrgrp_id
      )
      VALUES (
        #{arg0},
        #{arg1}
      )
    </insert>

    <delete id="deleteByUsrgrpId">
        DELETE
        FROM usrgrp_role
        WHERE usrgrp_id = #{arg0}
    </delete>

    <delete id="deleteByUsrgrpIdAndRoleId">
        DELETE
        FROM usrgrp_role
        WHERE usrgrp_id = #{arg0} AND role_id = #{arg1}
    </delete>

    <select id="getUsrgrpIdsByRoleId" resultType="java.lang.Integer">
        SELECT usrgrp_id
        FROM usrgrp_role
        WHERE role_id = #{arg0}
    </select>

    <select id="getRoleIdsByUsrgrpId" resultType="java.lang.Integer">
        SELECT role_id
        FROM usrgrp_role
        WHERE usrgrp_id = #{arg0}
    </select>

    <select id="getRoleIdsByUsrgrpIds" resultType="java.lang.Integer">
        SELECT role_id
        FROM usrgrp_role
        WHERE 1 = 0
        <if test="list != null and list.size > 0">
            <![CDATA[ OR id IN ]]>
            <foreach close=")" collection="list" index="index" item="item" open="("
                separator=",">
                <![CDATA[ #{item} ]]>
            </foreach>
        </if>
    </select>
</mapper>